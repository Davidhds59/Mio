<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> Series </title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <h1> Series</h1>
    </header>

  <main class="gallery">
    <div id="cards" class="cards"></div>
  </main>

  <footer class="site-footer">Hecho con ❤️</footer>

<script>
// CONFIG — Pon aquí tu API KEY de TMDb
const TMDB_API_KEY = 'cc5b94165972aa509a349161d13d4fc9';

// Lista de IDs TMDb (cambia / agrega los IDs que quieras mostrar)
const seriesIds = [286801, 157239]; // ejemplo: Game of Thrones (1399)

const imageBase = 'https://image.tmdb.org/t/p/w500';

async function fetchSeries(id) {
  const res = await fetch(`https://api.themoviedb.org/3/tv/${id}?api_key=${TMDB_API_KEY}&language=es-ES`);
  if (!res.ok) throw new Error('TMDb fetch error');
  return res.json();
}

function makeCard(series) {
  const a = document.createElement('a');
  a.href = `serie.html?id=${series.id}`;
  a.className = 'card-link';

  const card = document.createElement('article');
  card.className = 'card';

  const img = document.createElement('img');
  img.className = 'poster';
  img.alt = series.name;
  img.loading = 'lazy';
  img.src = series.poster_path ? imageBase + series.poster_path : '';

  const title = document.createElement('h3');
  title.textContent = series.name;

  card.appendChild(img);
  card.appendChild(title);
  a.appendChild(card);
  return a;
}

async function render() {
  const container = document.getElementById('cards');
  for (const id of seriesIds) {
    try {
      const s = await fetchSeries(id);
      container.appendChild(makeCard(s));
    } catch (e) {
      console.error('Error cargando serie', id, e);
      const err = document.createElement('div');
      err.className = 'card error';
      err.textContent = `ID ${id} - no encontrado`;
      container.appendChild(err);
    }
  }
}

render();
</script>
</body>
</html>
